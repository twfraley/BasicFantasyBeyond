@using BasicFantasyBeyond.Models.CharacterModels
@model BasicFantasyBeyond.Models.CharacterSheetModels.CharacterSheetModel

@{
    ViewBag.Title = "Details";
}
@Html.AntiForgeryToken()
@Html.HiddenFor(model => model.CharacterSheetID)
<p></p>

<h2>@Html.DisplayFor(model => model.CharacterName)</h2>

<div>
    <h4>Details</h4>
    <hr />
    <div class="container container-fluid border">
        <div class=" row ">
            <div id="characterAttributes" class="col col-lg-4 col-md-6 col-sm-12 border">
                <div class="row bg-dark text-light">
                    <div class="col-12 lead text-center">
                        Primary Attributes
                    </div>
                </div>
                <div class=" row ">
                    <div class="col col-6 text-center border lead">
                        <div class="row bg-light border-bottom ">
                            <div class=" col-12 ">
                                Strength
                            </div>
                        </div>
                        <div class=" row border-bottom bg-white pb-3">
                            <div class="col-12">
                                @Html.DisplayFor(model => model.CharacterStr)
                                (@Html.DisplayFor(model => model.StrMod)
                                )
                            </div>
                        </div>
                    </div>
                    <div class="col col-6 text-center border lead">
                        <div class="row bg-light border-bottom ">
                            <div class=" col-12 ">
                                Dexterity
                            </div>
                        </div>
                        <div class=" row border-bottom bg-white pb-3">
                            <div class="col-12">
                                @Html.DisplayFor(model => model.CharacterDex)
                                (@Html.DisplayFor(model => model.DexMod)
                                )
                            </div>
                        </div>
                    </div>
                </div>
                <div class=" row ">
                    <div class="col col-6 text-center border lead">
                        <div class="row bg-light border-bottom">
                            <div class=" col-12 ">
                                Constitution
                            </div>
                        </div>
                        <div class=" row border-bottom bg-white pb-3">
                            <div class="col-12">
                                @Html.DisplayFor(model => model.CharacterCon)
                                (@Html.DisplayFor(model => model.ConMod)
                                )
                            </div>
                        </div>
                    </div>
                    <div class="col col-6 text-center border lead">
                        <div class="row bg-light border-bottom">
                            <div class=" col-12 ">
                                Intelligence
                            </div>
                        </div>
                        <div class=" row border-bottom bg-white pb-3">
                            <div class="col-12">
                                @Html.DisplayFor(model => model.CharacterInt)
                                (@Html.DisplayFor(model => model.IntMod)
                                )
                            </div>
                        </div>
                    </div>
                </div>
                <div class=" row ">
                    <div class="col col-6 text-center border lead">
                        <div class="row bg-light border-bottom ">
                            <div class=" col-12 ">
                                Wisdom
                            </div>
                        </div>
                        <div class=" row border-bottom bg-white pb-3">
                            <div class="col-12">
                                @Html.DisplayFor(model => model.CharacterWis)
                                (@Html.DisplayFor(model => model.WisMod)
                                )
                            </div>
                        </div>
                    </div>
                    <div class="col col-6 text-center border lead">
                        <div class="row bg-light border-bottom">
                            <div class=" col-12 ">
                                Charisma
                            </div>
                        </div>
                        <div class=" row border-bottom bg-white pb-3">
                            <div class="col-12">
                                @Html.DisplayFor(model => model.CharacterCha)
                                (@Html.DisplayFor(model => model.ChaMod)
                                )
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="characterStats" class="col col-lg-4 col-md-6 col-sm-12 border">
                <div class="row bg-dark text-light">
                    <div class="col-12 lead text-center">
                        Character Stats
                    </div>
                </div>
                <div class=" row ">
                    <div class="col col-6 text-center border lead">
                        <div class="row bg-light border-bottom ">
                            <div class=" col-12 ">
                                Speed:
                            </div>
                        </div>
                        <div class=" row border-bottom bg-white pb-3">
                            <div class="col-12">
                                @Html.DisplayFor(model => model.CharacterSpeed)
                            </div>
                        </div>
                    </div>
                    <div class="col col-6 text-center border lead">
                        <div class="row bg-light border-bottom">
                            <div class=" col-12 ">
                                Attack Bonus
                            </div>
                        </div>
                        <div class=" row border-bottom bg-white pb-3">
                            <div class="col-12">
                                @Html.DisplayFor(model => model.CharacterAttackBonus)
                            </div>
                        </div>
                    </div>
                </div>
                <div class=" row ">
                    <div class="col col-6 text-center border lead">
                        <div class="row bg-light border-bottom ">
                            <div class=" col-12 ">
                                Hit Points
                            </div>
                        </div>
                        <div class=" row border-bottom bg-white pb-3">
                            <div class="col-12">
                                @Html.DisplayFor(model => model.CharacterHP)
                            </div>
                        </div>
                    </div>
                    <div class="col col-6 text-center border lead">
                        <div class="row bg-light border-bottom">
                            <div class=" col-12 ">
                                Armor Class
                            </div>
                        </div>
                        <div class=" row border-bottom pb-3 bg-white">
                            <div class="col-12">
                                @Html.DisplayFor(model => model.CharacterAC)
                            </div>
                        </div>
                    </div>
                </div>
                <div class=" row bg-light">
                    <div class="col col-6 text-center border lead">
                        <div class="row bg-light border-bottom ">
                            <div class=" col-12 ">
                                XP
                            </div>
                        </div>
                        <div class=" row border-bottom pb-3 bg-white">
                            <div class="col-12">
                                @Html.DisplayFor(model => model.CharacterXP)
                            </div>
                        </div>
                    </div>
                    <div class="col col-6 text-center border lead">
                        <div class="row bg-light border-bottom">
                            <div class=" col-12 ">
                                Level:
                            </div>
                        </div>
                        <div class=" row border-bottom pb-3 bg-white">
                            <div class="col-12">
                                @Html.DisplayFor(model => model.CharacterLevel)
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="characterDetails" class="col col-lg-4 col-md-6 col-sm-12 border">
                <div class="row bg-dark text-light lead">
                    <div class=" col-12">
                        Character Details
                    </div>
                </div>
                <div class=" row col-12 lead">
                    <div class="row col-12 bg-light border-bottom">
                        Name:
                    </div>
                    <div class="row col-12 border-bottom bg-white">
                        @Html.DisplayFor(model => model.CharacterName)
                    </div>
                </div>
                <div class=" row col-12 lead mb-2 mt-2"></div>
                <div class=" row col-12 lead">
                    <div class="row col-12 bg-light border-bottom">
                        Race:
                    </div>
                    <div class="row col-12 border-bottom bg-white">
                        @Html.DisplayFor(model => model.CharacterRace)
                    </div>
                </div>
                <div class=" row col-12 lead mb-2 mt-2"></div>
                <div class=" row col-12 lead">
                    <div class="row col-12 bg-light border-bottom">
                        Class:
                    </div>
                    <div class="row col-12 border-bottom bg-white">
                        @Html.DisplayFor(model => model.CharacterClass)
                    </div>
                </div>

            </div>
        </div>
    </div>

    <hr />

    <div class="container container-fluid">
        <div class="row">
            <div class="col col-12">
                <div class="row bg-dark text-light lead px-4">
                    Special Abilities:
                </div>
                <div class="row small-font">
                        @Html.DisplayFor(model => model.CharacterAbilities)
                    </div>
                @{
                    if (Model.CharacterAbilities.HasFlag(CharacterAbilities.HalflingACBonus))
                    {
                        @Html.Raw("Wassup?  You got Halfling Skillz!")
                    }
                }
            </div>
        </div>
    </div>

    <hr />

    <div class="container container-fluid ">
        <div class="row">
            <div class="col-12 text-center lead">
                Equipped Weapons:
            </div>
        </div>
        <div class="row text-light bg-dark">
            <div class="col col-2 text-center lead">
                Item Name
            </div>
            <div class="col col-2 text-center lead">
                Item Type
            </div>
            <div class="col col-2 text-center lead">
                To-Hit
            </div>
            <div class="col col-2 text-center lead">
                Damage
            </div>
            <div class="col col-2 text-center lead">
                Special
            </div>
            <div class="col col-2 text-center lead">
                Manage
            </div>
        </div>
        @{
            foreach (var item in Model.EquippedWeapons)
            {
                @Html.HiddenFor(i => item.CharacterItemID)
                <div class="row bg-light border-bottom small-font">
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(modelItem => item.ItemName)
                    </div>
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(modelItem => item.ItemType)
                    </div>
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(modelItem => item.AttackBonus)
                    </div>
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(modelItem => item.Damage)
                    </div>
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(i => item.ItemNotes)
                    </div>
                    <div class="col col-2 text-center ">
                        @Html.ActionLink("Unequip", "Unequip", new { id = item.CharacterItemID, characterID = Model.CharacterID }) |
                        @Html.ActionLink("Delete", "Delete", new { characterID = Model.CharacterID, characterItemID = item.CharacterItemID })
                    </div>

                </div>
            }
        }

    </div>

    <hr />
    <div class="container container-fluid border-danger">
        <div class="row">
            <div class="col-12 text-center lead">
                Equipped Armor:
            </div>
        </div>
        <div class="row text-light bg-dark">
            <div class="col col-2 text-center lead">
                Item Name
            </div>
            <div class="col col-2 text-center lead">
                Item Type
            </div>
            <div class="col col-2 text-center lead">
                AC Bonus
            </div>
            <div class="col col-4 text-center lead">
                Special
            </div>
            <div class="col col-2 text-center lead">
                Manage
            </div>
        </div>
        @{
            foreach (var item in Model.EquippedArmor)
            {
                @Html.HiddenFor(i => item.CharacterItemID)
                <div class="row bg-light border-bottom small-font">
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(modelItem => item.ItemName)
                    </div>
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(modelItem => item.ItemType)
                    </div>
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(modelItem => item.ArmorClassBonus)
                    </div>
                    <div class="col col-4 text-center ">
                        @Html.DisplayFor(modelItem => item.ItemNotes)
                    </div>
                    <div class="col col-2 text-center ">
                        @Html.ActionLink("Unequip", "Unequip", new { id = item.CharacterItemID, characterID = Model.CharacterID }) |
                        @Html.ActionLink("Delete", "Delete", new { characterID = Model.CharacterID, characterItemID = item.CharacterItemID })
                    </div>

                </div>
            }
        }

    </div>

    <hr />
    <div class="container container-fluid border-danger">
        <div class="row">
            <div class="col-12 text-center lead">
                All Items:
            </div>
        </div>
        <div class="row text-light bg-dark">
            <div class="col col-2 text-center lead">
                Item Name
            </div>
            <div class="col col-2 text-center lead">
                Item Type
            </div>
            <div class="col col-2 text-center lead">
                Damage
            </div>
            <div class="col col-2 text-center lead">
                AC Bonus
            </div>
            <div class="col col-2 text-center lead">
                Special
            </div>
            <div class="col col-2 text-center lead">
                Manage
            </div>
        </div>
        @{
            foreach (var item in Model.Items)
            {
                @Html.HiddenFor(i => item.CharacterItemID)
                <div class="row bg-light border-bottom small-font">
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(modelItem => item.ItemName)
                    </div>
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(modelItem => item.ItemType)
                    </div>
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(modelItem => item.Damage)
                    </div>
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(modelItem => item.ArmorClassBonus)
                    </div>
                    <div class="col col-2 text-center ">
                        @Html.DisplayFor(i => item.ItemNotes)
                    </div>
                    <div class="col col-2 text-center ">
                        @{
                            if (item.IsEquipped)
                            {
                                @Html.ActionLink("Unequip", "UnEquip", new { id = item.CharacterItemID, characterID = Model.CharacterID })
                            }
                            if (!item.IsEquipped)
                            {
                                @Html.ActionLink("Equip", "Equip", new { id = item.CharacterItemID, characterID = Model.CharacterID })
                            }
                        } |
                        @Html.ActionLink("Delete", "Delete", new { characterID = Model.CharacterID, characterItemID = item.CharacterItemID })
                    </div>

                </div>
            }
        }

    </div>

</div>
<p>
    @Html.ActionLink("Add Items", "AddItems", new { id = Model.CharacterID }) |
    @Html.ActionLink("Edit Character", "Edit", "Character", new { id = Model.CharacterID }, "") |
    @Html.ActionLink("Back to Character List", "Index", "Character")
</p>
